{"ast":null,"code":"var _jsxFileName = \"/home/user/project/dnditto/src/EntityGroup/EntityGroup.tsx\",\n    _s2 = $RefreshSig$();\n\nimport Entity from \"../Entity/Entity\";\nimport React, { createContext, useCallback, useContext, useMemo, useState } from 'react';\nimport { MDBContainer } from 'mdb-react-ui-kit';\nimport EntityGroupHeader from \"../EntityGroupHeader/EntityGroupHeader\";\nimport './EntityGroup.scss';\nimport { NavbarContext } from \"../Navbar/Navbar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const EntityContext = /*#__PURE__*/createContext({\n  selectionToggle: id => {},\n  selectedEntity: \"\"\n});\nexport default function EntityGroup(props) {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  const useNavbarContext = () => {\n    _s();\n\n    const context = useContext(NavbarContext);\n\n    if (!context) {\n      throw new Error(\"Navbar context error\");\n    }\n\n    return context;\n  };\n\n  _s(useNavbarContext, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n\n  const {\n    attacking,\n    healing\n  } = useNavbarContext();\n  const [selectedEntity, setSelectedEntity] = useState(\"\");\n  const selectionToggle = useCallback(entityId => {\n    if (entityId !== selectedEntity) {\n      setSelectedEntity(entityId);\n      return;\n    }\n\n    setSelectedEntity(\"\");\n    return;\n  }, [selectedEntity, setSelectedEntity]);\n  const selectionContext = useMemo(() => ({\n    selectionToggle,\n    selectedEntity\n  }), [selectionToggle, selectedEntity]);\n\n  const renderEntity = c => {\n    const entityProps = {\n      id: c.id,\n      name: c.name,\n      initiative: c.initiative,\n      health: c.health,\n      ac: c.ac\n    };\n    return /*#__PURE__*/_jsxDEV(Entity, { ...entityProps\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this);\n  };\n\n  const [entities, setEntities] = useState(props.entities.map(c => renderEntity(c)));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"d-flex justify-content-center entity-group-root\",\n    children: /*#__PURE__*/_jsxDEV(MDBContainer, {\n      className: \"entity-group\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"entity-group-container\",\n        children: [/*#__PURE__*/_jsxDEV(EntityGroupHeader, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"entity-group-list\",\n          children: /*#__PURE__*/_jsxDEV(EntityContext.Provider, {\n            value: selectionContext,\n            children: entities\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 9\n  }, this);\n}\n\n_s2(EntityGroup, \"pXo8nfzI7DoAquamyeHGu/UMDyM=\", true);\n\n_c = EntityGroup;\n\nvar _c;\n\n$RefreshReg$(_c, \"EntityGroup\");","map":{"version":3,"names":["Entity","React","createContext","useCallback","useContext","useMemo","useState","MDBContainer","EntityGroupHeader","NavbarContext","EntityContext","selectionToggle","id","selectedEntity","EntityGroup","props","useNavbarContext","context","Error","attacking","healing","setSelectedEntity","entityId","selectionContext","renderEntity","c","entityProps","name","initiative","health","ac","entities","setEntities","map"],"sources":["/home/user/project/dnditto/src/EntityGroup/EntityGroup.tsx"],"sourcesContent":["import Entity from \"../Entity/Entity\";\nimport React, {Component, createContext, ReactElement, useCallback, useContext, useMemo, useRef, useState} from 'react';\nimport { MDBContainer } from 'mdb-react-ui-kit';\nimport Character from '../Models/Character';\nimport EntityGroupHeader from \"../EntityGroupHeader/EntityGroupHeader\";\nimport './EntityGroup.scss';\nimport {NavbarContext} from \"../Navbar/Navbar\";\n\ninterface IEntityGroupProps {\n    entities: Array<Character>\n}\n\nexport const EntityContext = createContext({\n    selectionToggle: (id: string) => {},\n    selectedEntity: \"\"\n});\n\nexport default function EntityGroup(props: IEntityGroupProps) {\n\n    const useNavbarContext = () => {\n        const context = useContext(NavbarContext)\n        if (!context) {\n            throw new Error(\n                \"Navbar context error\"\n            );\n        }\n        return context\n    }\n\n    const { attacking, healing } = useNavbarContext()\n\n    const [selectedEntity, setSelectedEntity] = useState(\"\")\n    const selectionToggle = useCallback(\n        (entityId: string) => {\n            if (entityId !== selectedEntity) {\n                setSelectedEntity(entityId)\n                return\n            }\n            setSelectedEntity(\"\")\n            return\n        }, [selectedEntity, setSelectedEntity]\n    )\n    const selectionContext = useMemo(\n        () => ({\n            selectionToggle,\n            selectedEntity\n        }),\n        [selectionToggle, selectedEntity]\n    )\n\n    const renderEntity = (c: Character) => {\n\n        const entityProps = {\n            id: c.id,\n            name: c.name,\n            initiative: c.initiative,\n            health: c.health,\n            ac: c.ac\n        }\n\n        return (\n            <Entity {...entityProps} />\n        )\n    }\n\n    const [entities, setEntities] = useState(props.entities.map((c: Character) => renderEntity(c)))\n\n    return(\n        <div className=\"d-flex justify-content-center entity-group-root\">\n            <MDBContainer className=\"entity-group\">\n                <div className=\"entity-group-container\">\n                    <EntityGroupHeader />\n                    <div className=\"entity-group-list\">\n                        <EntityContext.Provider value={selectionContext}>\n                            {entities}\n                        </EntityContext.Provider>\n                    </div>\n                </div>\n            </MDBContainer>\n        </div>\n    )\n}\n"],"mappings":";;;AAAA,OAAOA,MAAP,MAAmB,kBAAnB;AACA,OAAOC,KAAP,IAA0BC,aAA1B,EAAuDC,WAAvD,EAAoEC,UAApE,EAAgFC,OAAhF,EAAiGC,QAAjG,QAAgH,OAAhH;AACA,SAASC,YAAT,QAA6B,kBAA7B;AAEA,OAAOC,iBAAP,MAA8B,wCAA9B;AACA,OAAO,oBAAP;AACA,SAAQC,aAAR,QAA4B,kBAA5B;;AAMA,OAAO,MAAMC,aAAa,gBAAGR,aAAa,CAAC;EACvCS,eAAe,EAAGC,EAAD,IAAgB,CAAE,CADI;EAEvCC,cAAc,EAAE;AAFuB,CAAD,CAAnC;AAKP,eAAe,SAASC,WAAT,CAAqBC,KAArB,EAA+C;EAAA;;EAAA;;EAE1D,MAAMC,gBAAgB,GAAG,MAAM;IAAA;;IAC3B,MAAMC,OAAO,GAAGb,UAAU,CAACK,aAAD,CAA1B;;IACA,IAAI,CAACQ,OAAL,EAAc;MACV,MAAM,IAAIC,KAAJ,CACF,sBADE,CAAN;IAGH;;IACD,OAAOD,OAAP;EACH,CARD;;EAF0D,GAEpDD,gBAFoD;;EAY1D,MAAM;IAAEG,SAAF;IAAaC;EAAb,IAAyBJ,gBAAgB,EAA/C;EAEA,MAAM,CAACH,cAAD,EAAiBQ,iBAAjB,IAAsCf,QAAQ,CAAC,EAAD,CAApD;EACA,MAAMK,eAAe,GAAGR,WAAW,CAC9BmB,QAAD,IAAsB;IAClB,IAAIA,QAAQ,KAAKT,cAAjB,EAAiC;MAC7BQ,iBAAiB,CAACC,QAAD,CAAjB;MACA;IACH;;IACDD,iBAAiB,CAAC,EAAD,CAAjB;IACA;EACH,CAR8B,EAQ5B,CAACR,cAAD,EAAiBQ,iBAAjB,CAR4B,CAAnC;EAUA,MAAME,gBAAgB,GAAGlB,OAAO,CAC5B,OAAO;IACHM,eADG;IAEHE;EAFG,CAAP,CAD4B,EAK5B,CAACF,eAAD,EAAkBE,cAAlB,CAL4B,CAAhC;;EAQA,MAAMW,YAAY,GAAIC,CAAD,IAAkB;IAEnC,MAAMC,WAAW,GAAG;MAChBd,EAAE,EAAEa,CAAC,CAACb,EADU;MAEhBe,IAAI,EAAEF,CAAC,CAACE,IAFQ;MAGhBC,UAAU,EAAEH,CAAC,CAACG,UAHE;MAIhBC,MAAM,EAAEJ,CAAC,CAACI,MAJM;MAKhBC,EAAE,EAAEL,CAAC,CAACK;IALU,CAApB;IAQA,oBACI,QAAC,MAAD,OAAYJ;IAAZ;MAAA;MAAA;MAAA;IAAA,QADJ;EAGH,CAbD;;EAeA,MAAM,CAACK,QAAD,EAAWC,WAAX,IAA0B1B,QAAQ,CAACS,KAAK,CAACgB,QAAN,CAAeE,GAAf,CAAoBR,CAAD,IAAkBD,YAAY,CAACC,CAAD,CAAjD,CAAD,CAAxC;EAEA,oBACI;IAAK,SAAS,EAAC,iDAAf;IAAA,uBACI,QAAC,YAAD;MAAc,SAAS,EAAC,cAAxB;MAAA,uBACI;QAAK,SAAS,EAAC,wBAAf;QAAA,wBACI,QAAC,iBAAD;UAAA;UAAA;UAAA;QAAA,QADJ,eAEI;UAAK,SAAS,EAAC,mBAAf;UAAA,uBACI,QAAC,aAAD,CAAe,QAAf;YAAwB,KAAK,EAAEF,gBAA/B;YAAA,UACKQ;UADL;YAAA;YAAA;YAAA;UAAA;QADJ;UAAA;UAAA;UAAA;QAAA,QAFJ;MAAA;QAAA;QAAA;QAAA;MAAA;IADJ;MAAA;MAAA;MAAA;IAAA;EADJ;IAAA;IAAA;IAAA;EAAA,QADJ;AAcH;;IAhEuBjB,W;;KAAAA,W"},"metadata":{},"sourceType":"module"}