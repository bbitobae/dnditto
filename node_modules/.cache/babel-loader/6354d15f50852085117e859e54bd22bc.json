{"ast":null,"code":"var _jsxFileName = \"/home/user/project/dnditto/src/Entity/Entity.tsx\";\nimport React, { createContext } from 'react';\nimport { Armour } from '../Stat/Armour';\nimport { Initiative } from '../Stat/Initiative';\nimport { Health } from '../Stat/Health';\nimport { MDBRow, MDBCol } from 'mdb-react-ui-kit';\nimport './Entity.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// export class Entity extends React.Component<IEntityProps, IEntityState> {\n//\n//     constructor(props: any) {\n//         super(props);\n//         this.name = props.name;\n//         this.initiative = props.initiative;\n//         this.health = props.health;\n//         this.ac = props.ac;\n//         if(props.level) this.level = props.level;\n//         this.state = { selected: false }\n//     }\n//\n//     name: string;\n//     initiative: number;\n//     health: number;\n//     ac: number;\n//     level?: number;\n//\n//     onClick = () => {\n//         this.toggleSelect();\n//         this.props.triggerDeselect(this.props.id);\n//     }\n//\n//     toggleSelect = () => {\n//         this.setState({\n//             selected: !this.state.selected\n//         })\n//     }\n//\n//     deselect = () => {\n//         this.setState({\n//             selected: false\n//             })\n//     }\n//\n//     render() {\n//         return(\n//             <div onClick= {this.onClick}>\n//             <MDBRow className={`entity ${this.state?.selected  ? 'selected' : 'neutral'}`}>\n//                 <MDBCol md=\"2\" className=\"stat\">\n//                     <Initiative {...{stat: this.initiative}} />\n//                 </MDBCol>\n//                 <MDBCol md=\"4\" className=\"name\">\n//                             <span>\n//                                 {this.name} {this.level ? `[${this.level}]` : ''}\n//                             </span>\n//                 </MDBCol>\n//                 <MDBCol md=\"2\" className=\"stat\">\n//                     <Health {...{stat: this.health}} />\n//                 </MDBCol>\n//                 <MDBCol md=\"2\" className=\"stat\">\n//                     <Armour {...{stat: this.ac}} />\n//                 </MDBCol>\n//             </MDBRow>\n//             </div>\n//\n//         )\n//     }\n// }\nconst EntitySelectContext = /*#__PURE__*/createContext('false');\nexport default function Entity(props) {\n  // const [selected, setSelected] = useState(props.selected)\n  // useEffect(() => {\n  //     console.debug(`deselecting ${props.name}`)\n  //     deselect()\n  // }, [props.deselectTrigger])\n  const onClick = () => {\n    console.debug(\"onclick\");\n    toggleSelect();\n    props.triggerDeselect(false);\n    toggleSelect();\n  };\n\n  const toggleSelect = () => {\n    props.setSelected(!props.selected);\n  };\n\n  return /*#__PURE__*/_jsxDEV(EntitySelectContext.Provider, {\n    value: props.id,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: () => onClick(),\n      children: /*#__PURE__*/_jsxDEV(MDBRow, {\n        className: `entity ${props.selected ? 'selected' : 'neutral'}`,\n        children: [/*#__PURE__*/_jsxDEV(MDBCol, {\n          md: \"2\",\n          className: \"stat\",\n          children: /*#__PURE__*/_jsxDEV(Initiative, {\n            stat: props.initiative\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(MDBCol, {\n          md: \"4\",\n          className: \"name\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [props.name, \" \", props.level ? `[${props.level}]` : '']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(MDBCol, {\n          md: \"2\",\n          className: \"stat\",\n          children: /*#__PURE__*/_jsxDEV(Health, {\n            stat: props.health\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(MDBCol, {\n          md: \"2\",\n          className: \"stat\",\n          children: /*#__PURE__*/_jsxDEV(Armour, {\n            stat: props.ac\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 9\n  }, this);\n}\n_c = Entity;\n\nvar _c;\n\n$RefreshReg$(_c, \"Entity\");","map":{"version":3,"names":["React","createContext","Armour","Initiative","Health","MDBRow","MDBCol","EntitySelectContext","Entity","props","onClick","console","debug","toggleSelect","triggerDeselect","setSelected","selected","id","stat","initiative","name","level","health","ac"],"sources":["/home/user/project/dnditto/src/Entity/Entity.tsx"],"sourcesContent":["import React, { createContext } from 'react';\nimport { Armour } from '../Stat/Armour';\nimport { Initiative } from '../Stat/Initiative';\nimport { Health } from '../Stat/Health';\nimport { MDBRow, MDBCol } from 'mdb-react-ui-kit';\nimport './Entity.scss';\n\ninterface IEntityProps {\n    id: string;\n    name: string;\n    initiative: number;\n    health: number;\n    ac: number;\n    level?: number;\n    triggerDeselect(val: boolean): void;\n    deselectTrigger: boolean;\n    selected: boolean;\n    setSelected(val: boolean): void;\n    deselectAll(): void;\n}\n\ninterface IEntityState {\n    selected: boolean;\n}\n\n// export class Entity extends React.Component<IEntityProps, IEntityState> {\n//\n//     constructor(props: any) {\n//         super(props);\n//         this.name = props.name;\n//         this.initiative = props.initiative;\n//         this.health = props.health;\n//         this.ac = props.ac;\n//         if(props.level) this.level = props.level;\n//         this.state = { selected: false }\n//     }\n//\n//     name: string;\n//     initiative: number;\n//     health: number;\n//     ac: number;\n//     level?: number;\n//\n//     onClick = () => {\n//         this.toggleSelect();\n//         this.props.triggerDeselect(this.props.id);\n//     }\n//\n//     toggleSelect = () => {\n//         this.setState({\n//             selected: !this.state.selected\n//         })\n//     }\n//\n//     deselect = () => {\n//         this.setState({\n//             selected: false\n//             })\n//     }\n//\n//     render() {\n//         return(\n//             <div onClick= {this.onClick}>\n//             <MDBRow className={`entity ${this.state?.selected  ? 'selected' : 'neutral'}`}>\n//                 <MDBCol md=\"2\" className=\"stat\">\n//                     <Initiative {...{stat: this.initiative}} />\n//                 </MDBCol>\n//                 <MDBCol md=\"4\" className=\"name\">\n//                             <span>\n//                                 {this.name} {this.level ? `[${this.level}]` : ''}\n//                             </span>\n//                 </MDBCol>\n//                 <MDBCol md=\"2\" className=\"stat\">\n//                     <Health {...{stat: this.health}} />\n//                 </MDBCol>\n//                 <MDBCol md=\"2\" className=\"stat\">\n//                     <Armour {...{stat: this.ac}} />\n//                 </MDBCol>\n//             </MDBRow>\n//             </div>\n//\n//         )\n//     }\n// }\n\nconst EntitySelectContext = createContext('false');\n\nexport default function Entity(props: IEntityProps) {\n\n    // const [selected, setSelected] = useState(props.selected)\n\n    // useEffect(() => {\n    //     console.debug(`deselecting ${props.name}`)\n    //     deselect()\n    // }, [props.deselectTrigger])\n\n\n    const onClick = () => {\n        console.debug(\"onclick\")\n        toggleSelect();\n        props.triggerDeselect(false);\n        toggleSelect();\n    }\n\n    const toggleSelect = () => {\n        props.setSelected(!props.selected)\n    }\n\n    return(\n        <EntitySelectContext.Provider value={props.id}>\n        <div onClick= {() => onClick()}>\n            <MDBRow className={`entity ${props.selected  ? 'selected' : 'neutral'}`}>\n                <MDBCol md=\"2\" className=\"stat\">\n                    <Initiative {...{stat: props.initiative}} />\n                </MDBCol>\n                <MDBCol md=\"4\" className=\"name\">\n                            <span>\n                                {props.name} {props.level ? `[${props.level}]` : ''}\n                            </span>\n                </MDBCol>\n                <MDBCol md=\"2\" className=\"stat\">\n                    <Health {...{stat: props.health}} />\n                </MDBCol>\n                <MDBCol md=\"2\" className=\"stat\">\n                    <Armour {...{stat: props.ac}} />\n                </MDBCol>\n            </MDBRow>\n        </div>\n        </EntitySelectContext.Provider>\n    )\n}\n"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,aAAhB,QAAqC,OAArC;AACA,SAASC,MAAT,QAAuB,gBAAvB;AACA,SAASC,UAAT,QAA2B,oBAA3B;AACA,SAASC,MAAT,QAAuB,gBAAvB;AACA,SAASC,MAAT,EAAiBC,MAAjB,QAA+B,kBAA/B;AACA,OAAO,eAAP;;AAoBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,MAAMC,mBAAmB,gBAAGN,aAAa,CAAC,OAAD,CAAzC;AAEA,eAAe,SAASO,MAAT,CAAgBC,KAAhB,EAAqC;EAEhD;EAEA;EACA;EACA;EACA;EAGA,MAAMC,OAAO,GAAG,MAAM;IAClBC,OAAO,CAACC,KAAR,CAAc,SAAd;IACAC,YAAY;IACZJ,KAAK,CAACK,eAAN,CAAsB,KAAtB;IACAD,YAAY;EACf,CALD;;EAOA,MAAMA,YAAY,GAAG,MAAM;IACvBJ,KAAK,CAACM,WAAN,CAAkB,CAACN,KAAK,CAACO,QAAzB;EACH,CAFD;;EAIA,oBACI,QAAC,mBAAD,CAAqB,QAArB;IAA8B,KAAK,EAAEP,KAAK,CAACQ,EAA3C;IAAA,uBACA;MAAK,OAAO,EAAG,MAAMP,OAAO,EAA5B;MAAA,uBACI,QAAC,MAAD;QAAQ,SAAS,EAAG,UAASD,KAAK,CAACO,QAAN,GAAkB,UAAlB,GAA+B,SAAU,EAAtE;QAAA,wBACI,QAAC,MAAD;UAAQ,EAAE,EAAC,GAAX;UAAe,SAAS,EAAC,MAAzB;UAAA,uBACI,QAAC,UAAD;YAAiBE,IAAI,EAAET,KAAK,CAACU;UAA7B;YAAA;YAAA;YAAA;UAAA;QADJ;UAAA;UAAA;UAAA;QAAA,QADJ,eAII,QAAC,MAAD;UAAQ,EAAE,EAAC,GAAX;UAAe,SAAS,EAAC,MAAzB;UAAA,uBACY;YAAA,WACKV,KAAK,CAACW,IADX,OACkBX,KAAK,CAACY,KAAN,GAAe,IAAGZ,KAAK,CAACY,KAAM,GAA9B,GAAmC,EADrD;UAAA;YAAA;YAAA;YAAA;UAAA;QADZ;UAAA;UAAA;UAAA;QAAA,QAJJ,eASI,QAAC,MAAD;UAAQ,EAAE,EAAC,GAAX;UAAe,SAAS,EAAC,MAAzB;UAAA,uBACI,QAAC,MAAD;YAAaH,IAAI,EAAET,KAAK,CAACa;UAAzB;YAAA;YAAA;YAAA;UAAA;QADJ;UAAA;UAAA;UAAA;QAAA,QATJ,eAYI,QAAC,MAAD;UAAQ,EAAE,EAAC,GAAX;UAAe,SAAS,EAAC,MAAzB;UAAA,uBACI,QAAC,MAAD;YAAaJ,IAAI,EAAET,KAAK,CAACc;UAAzB;YAAA;YAAA;YAAA;UAAA;QADJ;UAAA;UAAA;UAAA;QAAA,QAZJ;MAAA;QAAA;QAAA;QAAA;MAAA;IADJ;MAAA;MAAA;MAAA;IAAA;EADA;IAAA;IAAA;IAAA;EAAA,QADJ;AAsBH;KA3CuBf,M"},"metadata":{},"sourceType":"module"}